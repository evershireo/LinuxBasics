# Основные операции с файлами

Студент должен уметь управлять файлами и каталогами при помощи основных команд Linux

## Изучаем :

- копирование, перенос и удаление файлов и каталогов;
- копирование нескольких файлов и каталогов, в том числе рекурсивно;
- удаление файлов и каталогов, в том числе рекурсивно;
- групповые символы (wildcard);
- отбор файлов по типу, размеру, датам и т.д.;
- работу с tar, cpio и dd.

## Термины и утилиты:       

- cp
- find
- mkdir
- mv
- ls
- rm
- rmdir
- touch
- tar
- cpio
- dd
- file
- gzip
- gunzip
- bzip2
- xz
- групповые символы

---

Частой задачей администратора в Linux является работа с файлами и каталогами: создание, копирование, перемещение и удаление. Использование групповых символов вместе с инструментами консоли позволяют осуществлять эти действия с максимальной эффективностью.

Для создания директорий используется команда `mkdir имякаталога`, для удаления пустого каталога - `rmdir имякаталога`. Просмотр содержимого текущей директории – `ls`. Например:

- `ls  –l`        - просмотреть содержимое текущего каталога;

- `ls fol*`       - посмотреть содержимого каталогов, имена которых начинаются с  fol;

Для копирования используется команда `cp  чтокопировать кудакопировать`, например:

- `cp  –R Folder NewFolder`        - скопировать директорию  Folder со всем содержимым в текущий каталог с именем новой директории  NewFolder;

Для переноса используется команда `mv  чтопереносить кудапереносить`, например:

- `mv file.txt folder1/`  - перенести  file.txt в каталог  folder1 в текущей директории;

Для удаления используется команда `rm чтоудалить`, например:

- `rm  –rf folder1`        - удалить каталог folder1 вместе с содержимым;

Для создания пустого файла, или обновления метки доступа существующего, используется команда `touch  имяфайла`, а для получения информации о файле – команда `file имяфайла`.

Групповые символы, использующиеся при работе с текстовыми данными:

- \*                – любое количество любых символов;
- ?                – любой символ;
- !                 – не (любой символ кроме указанных);
- [a|c]        – a или c ;
- [a-c]         – a , b , c.

Например:

- `ls  *`                - вывести содержимое всех каталогов;

- `ls  ?at.txt`         - вывести содержимое файла с именем: любая первая буква, остальная часть имени  at.txt;

- `ls   at.txt`         - вывести содержимое файла с именем, оканчивающимся на  at.txt;

- `ls ![ab]*`        - вывести содержимое файла или каталога с именем, начинающимся с любых символов, кроме  a и  b;

Для поиска информации используется команда `find`, например:

- ``find  . –name *A*``        - искать в текущей директории объекты, имеющие в имени символ  A;

- `find  /etc  –size -5M`      - искать в директории /etc объекты размером менее 5 Мб;

- `find   .  –type l`   - искать в текущей директории ссылки;

В среде Linux существует несколько распространённых архиваторов, использующихся для распаковки и упаковки объектов в единый файл:

- `сpio`                - двоичный архиватор, копирующий информацию в архив и обратно;
- `dd`                 - копирование по блокам;
- `gzip` и `gunzip`         - утилита сжатия и восстановления файлов (контейнер одного файла);
- `bzip2` и `bunzip2`        - утилита сжатия и восстановления файлов (контейнер одного файла);
- `xz` и `unxz`                - утилита сжатия и восстановления файлов (контейнер одного файла);
- `tar`                - архиватор (работает с набором файлов и каталогов).

Например:

- `find  .  –name *.txt |  cpio  –o  > ../test.cpio`   - найти в текущей папке все файлы с расширением.txt и упаковать их в архив test.cpio, расположив его на уровень выше текущей директории;

- `cpio  -id  <  test.cpio`        - распаковать в текущий каталог архив  test.cpio, создавая при необходимости структуру директорий;

- `dd if=/dev/sdb of=drive.img`         - скопировать носитель `/dev/sdb` в образ `drive.img`, располагающийся в текущей директории;

- `gzip drive.img`         - сжать образ  drive.img до  drive.img.gz, удалив исходный файл;

- `bunzip2  drive.img.bz2`      - распаковать архив  drive.img.bz2 в текущий каталог;

- `unxz drive.img.xz`         - распаковать архив  drive.img.xz в текущий каталог;

- `tar cvf arch.tar folder`  - упаковать каталог  folder в архив  arch.tar.

- `tar  –xvf archive.tar`         - распаковать архив  archive. tar.
